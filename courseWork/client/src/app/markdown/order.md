# Заказы

- ```POST api/v1/orders```

    Получение списка заказов

    Поля тела запроса (* поле обязательное)

    - ```limit``` ```offset```

        Пагинированние заказов. *В будущем будет добвлен поиск по подстроке имени и/или ```id``` пользователя и ```id``` заказа*

        Дефолтные значения

        ```limit``` - 10

        ```offset``` - 0
    
    __Пример ответа__

    ```json
    {
        "count": 20,
        "orders": [
            {
                "state": 1,
                "_id": "5dac55c9bd722e23a203d49e",
                "cart": "5dac39298ba6d20308f9d07d",
                "user": "userId",
                "date": "2019-10-20T12:40:41.213Z",
                "price": 249,
                "lastModified": "2019-10-20T12:40:41.222Z",
                "__v": 0
            },
            {
                ...
            }
        ]
    }
    ```

- ```POST api/v1/orders/setstate/:id/:state```

    Изменения состояния ```state``` заказа по ```id```.  
    __Доступ может получить только менеджер или администратор__

    Поля тела запроса (* поле обязательное)    
    - ```state```* 

        Сотстояние это число от 1 до 3.

        __1__ - Заказа создан и ожидает обобрения и начала обработки.  
        __2__ - Заказ принят в обработку и происходит упаковка, доставка и отправка.  
        __3__ - Заказ доставлен, клиент довлолен, а владелец сайта кушает печеньки.  

    Возвращает обновленный заказ

- ```POST api/v1/orders/new```

    Создание нового заказа.   
    __Только авторизированный пользователь может сделать заказ__

    __Пример ответа__

    ```json
    {
        "state": 1,
        "_id": "5dcd9dc8da3b771989cf1465",
        "user": "5dc2fb8771e9c47a5117685a",
        "date": "2019-11-14T18:32:40.331Z",
        "price": 0,
        "lastModified": "2019-11-14T18:32:40.337Z",
        "__v": 0
    }
    ```