<!DOCTYPE html>
<html lang="ru">
<head>
{{>head}}
<style>
        @import "/stylesheets/common.css";  
</style>
</head>
<body>
    {{>header}}
    {{>navbar_begin}} 
    {{>navbarLeft_begin}}
    <li class="nav-item">
        <a class="nav-link" href="/">Домой</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/puzzles">Головоломки</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/users">Пользователи</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/orders">Заказы</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/about">О нас</a>
    </li>
    {{>navbarLeft_end}}
    {{>navbarRight_begin}}
    <li class="nav-item">
        <a class="nav-link" href="#">какое то поле тут</a>
    </li>
    {{>navbarRight_end}}
    {{>navbar_end}}
  <div class="data">
    <div class="content">
    <form method="POST" action="/puzzles/new" enctype="multipart/form-data">
        <fieldset>
        <legend>Добавление головоломки</legend>
        <hr>
      <div class="row">
      <div class="col">
        <div class="form-row">
            <div class="form-group col-6">
                <label for="inputName">Название</label>
                <input type="text" class="form-control form-control-lg" id="inputName" name="inputName" placeholder="Gan, Moyu..." required>
            </div>
            <div class="form-group col-5">
                    <label for="inputPrice">Цена</label>
                    <input id ="inputPrice" class="form-control form-control-lg" type="number" name="inputPrice" min="0" max="10000" placeholder="250">
            </div>
        </div>
        <div class="form-row">

            <div class="form-group col-5">
                <label for="inputType">Выбор типа</label>
                <select class="form-control form-control-lg" id="inputType" name="type">

                {{#filters.types}}
                    <option value="{{id}}">{{value}}</option>
                {{/filters.types}}

                </select>
            </div>

            <div class="form-group col-1">
                <button type="submit" class="btn btn-outline-primary mt-5" onclick="return false">+</button>
            </div>

            <div class="form-group col-5">

                <label for="inputManufacturer">Выбор производителя</label>
                <select class="form-control form-control-lg" id="inputManufacturer" name="manufacturer">
                    
                    {{#filters.manufacturers}}
                    <option value="{{id}}">{{value}}</option>
                    {{/filters.manufacturers}}

                </select>

            </div>
            {{! @todo }}
            <div class="form-group col-1">
                <button type="submit" class="btn btn-outline-primary mt-5" onclick="return false">+</button>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-2">
                <label for="inputWCA">WCA</label>
                <select class="form-control form-control-lg" id="inputWCA" name="isWCA">
                    <option value="1" selected>Да</option>
                    <option value="">Нет</option>
                </select>
            </div>
            <div class="form-group col-3">
                <label for="inputAvailable">В наличии</label>
                <select class="form-control form-control-lg" id="inputAvailable" name="isAvailable">
                    <option value="1" selected>Да</option>
                    <option value="">Нет</option>
                </select>
            </div>
        </div>
        <div class="form-row ml-1">
            <div class="form-group">
                <label for="inputDescrition">Описание</label>
                <textarea class="form-control" id="inputDescrition" rows="10" cols="70" name="description"></textarea>
            </div>
        </div>
        </div>       
        <div class="col">
            <div class="form-group col-6">
                <label>Картинка</label>
                <div class="custom-file">
                    <label  for="customFile">Выберите файл</label>
                    <input type="file" id="customFile" accept=".jpg, .jpeg, .png" name="image">
                </div>
            </div>
            <img id="bufferImage" src="https://cdn.shopify.com/s/files/1/0533/2089/files/placeholder-images-image_large.png?v=1530129081" alt="Placeholder image", width="80%" class="ml-3">
        </div> 
        </div> 
        <button type="submit" class="btn btn-outline-primary btn-lg">Добавить</button>
        <a href="/puzzles">
            <button type="button" class="btn btn-oultile-secondary btn-lg">Отмена</button>
        </a>
        </fieldset>
    </form>
    </div>
    {{>footer}}
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        $('#customFile').change( function(event) {
        const tmppath = URL.createObjectURL(event.target.files[0]);
            $("#bufferImage").attr('src',tmppath);       
        });
    </script>
    {{>bootstrap_scripts}}
</body>
</html>